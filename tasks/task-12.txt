Task 12 : Global Quiz Page

Build the full-page quiz experience accessible from /quiz. This includes a configuration step (category and question count selection), a question-by-question flow, and a detailed results screen.

CONTEXT FROM THE PRD

The global quiz is a standalone page at /quiz where users can test their knowledge across all kings or within a specific era. It has 3 stages: (1) Configuration where the user picks a category and number of questions, (2) Question answering with progress bar and feedback, (3) Results with score circle, detailed review, and replay options. This is separate from the per-card QuizModal.

WHAT TO BUILD

1. Create src/components/QuizFlow.tsx as a client component ('use client').

   This is a self-contained component managing the entire quiz lifecycle through 3 stages.

   Stage 1: Configuration
   Title: "Quiz" with a crown emoji, in Cinzel font.
   Category selection: 4 radio buttons or pill buttons:
   "Tous les rois" (value 'all')
   "Monarchie Unie" (value 'united')
   "Israel (Nord)" (value 'israel')
   "Juda (Sud)" (value 'judah')
   Question count selection: 3 pill buttons: 5, 10, 20.
   A "Commencer" button that starts the quiz. Uses gold background, prominent style.
   A "Retour" link that navigates back to / (the home page).

   Stage 2: Questions
   Use the useQuiz hook from hooks/useQuiz.ts with questions generated by generateQuiz from lib/quiz.ts.
   Top: "Question {n} / {total}" counter.
   Progress bar: horizontal bar that fills as the user progresses.
   Question text in Cinzel font.
   4 option buttons (A, B, C, D) styled as full-width cards.
   Before answering: neutral parchment style.
   After answering: green for correct, red for wrong, dim others. Show explanation with biblical reference.
   "Question suivante" button appears after answering.
   Animations: use Motion for correct (green flash + slight bounce) and wrong (red flash + horizontal shake) feedback.

   Stage 3: Results
   Large circular score display: an animated SVG circle that fills to represent the percentage. Show "X / Y" in the center and the percentage below.
   Summary text: number of correct answers with a green checkmark, number of wrong answers with a red X.
   Detailed review list: for each question, show the question text, the user's answer, whether it was correct, and the correct answer if wrong. Use green/red indicators.
   Two action buttons:
   "Rejouer" resets the quiz and goes back to the configuration stage.
   "Retour a l accueil" navigates to /.
   Save the best score using recordScore from the progress store, with quizId format "global-{category}-{questionCount}".

2. Create src/app/quiz/page.tsx

   This is a simple page wrapper that renders the QuizFlow component.
   Add appropriate metadata (title: "Quiz | Rois d Israel").
   The Header from the root layout will already appear at the top.

DEPENDENCIES

Task 10 (quiz engine for generateQuiz), Task 11 (useQuiz hook), Task 04 (progress store for recordScore), Task 08 (Header already in layout).

WHAT OTHER TASKS NEED FROM THIS

Task 13 (Polish) may refine animations and responsive behavior.

SUCCESS CRITERIA

Navigating to /quiz shows the configuration screen.
Selecting "Israel (Nord)" and "10 questions" then clicking "Commencer" starts a 10-question quiz about northern kingdom kings only.
Each question displays with 4 options and no answer pre-selected.
Clicking an option shows immediate green/red feedback and the explanation.
"Question suivante" advances correctly and the progress bar updates.
After the last question, the results screen shows with the animated score circle.
The detailed review lists every question with the user's answer and correctness.
"Rejouer" resets to the config screen.
"Retour a l accueil" navigates to /.
The best score is saved and persists across page reloads.
The page works well on mobile (scrollable, touch-friendly buttons).
npm run build produces no errors.
